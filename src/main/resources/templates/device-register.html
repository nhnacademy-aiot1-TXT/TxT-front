<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" type="image/png" href="/img/TxT-Title-Image.jpeg">
    <title>장치 추가</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet"/>
    <link href="/css/nucleo-icons.css" rel="stylesheet"/>
    <link href="/css/nucleo-svg.css" rel="stylesheet"/>
    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
    <link href="/css/nucleo-svg.css" rel="stylesheet"/>
    <link id="pagestyle" href="/css/argon-dashboard.css?v=2.0.4" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <script th:inline="javascript">const accessToken = [[${accessToken}]];</script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/js/device-registration-page/device-card.js"></script>
    <style>
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }
    </style>
</head>

<body class="g-sidenav-show bg-gray-100">
<aside th:replace="fragments/sidebar"></aside>
<div class="main-content card position-relative text-center" id="main-body"
     style="padding-left: 10px; width: 50%; margin: 0 auto;">
    <div th:replace="fragments/nav"></div>

    <h2 style="margin-bottom: 25px; margin-top: 25px;">Class A</h2>
    <form id="deviceAddForm" action="/admin/device/send-data" method="post" class="px-4 py-3"
          enctype="application/x-www-form-urlencoded">
        <label>
            <input name="_csrf" hidden="" th:id="${_csrf.token}" th:value="${_csrf.getToken()}">
        </label>
        <div class="page active">
            <div class="form-group">
                <label for="place">장소</label>
                <select id="place" name="place" class="form-control">
                    <option value="Class A">Class A</option>
                    <option value="Class B">Class B</option>
                    <option value="Lobby">Lobby</option>
                </select>
            </div>
            <div class="form-group">
                <label for="deviceName">추가할 장치</label>
                <select id="deviceName" name="deviceName" class="form-control">
                    <option value="에어컨">에어컨</option>
                    <option value="조명">조명</option>
                    <option value="공기 청정기">공기 청정기</option>
                </select>
            </div>
            <div class="form-group">
                <label for="occupancyCheckRequired">재실 필요 유무</label>
                <select id="occupancyCheckRequired" name="occupancyCheckRequired" class="form-control">
                    <option value="true">Yes</option>
                    <option value="false">No</option>
                </select>
            </div>
        </div>

        <div class="page ai-mode">
            <h2>AI 모드 설정</h2>
            <div id="aiModesContainer"></div>
            <button type="button" onclick="createAiModeGroup()">AI Mode 추가</button>
            <div class="form-group mb-3 row">
                <div class="form-group">
                    <h4 class="form-label col-sm-3">메시지 보내는 간격</h4>
                    <label for="aiMode_hours">Hours</label>
                    <input type="number" id="aiMode_hours" name="aiMode_hours" min="0" max="23" value="1">
                    <label for="aiMode_minutes">Minutes</label>
                    <input type="number" id="aiMode_minutes" name="aiMode_minutes" min="0" max="59" value="0">
                </div>
            </div>
        </div>

        <div class="page custom-mode">
            <h2>커스텀 모드 설정</h2>
            <div id="conditionsContainer"></div>
            <button type="button" onclick="createConditionGroup()">Condition 추가</button>
            <div class="form-group">
                <h4 class="form-label col-sm-3">메시지 보내는 간격</h4>
                <label for="customMode_hours">Hours</label>
                <input type="number" id="customMode_hours" name="customMode_hours" min="0" max="23" value="1">
                <label for="customMode_minutes">Minutes</label>
                <input type="number" id="customMode_minutes" name="customMode_minutes" min="0" max="59" value="30">
            </div>
            <button id="submitButton" type="button" onclick="submitForm()">제출</button>
        </div>

        <div class="d-flex justify-content-between">
            <button id="prevButton" type="button" onclick="prevPage()">이전</button>
            <button id="nextButton" type="button" onclick="nextPage()">다음</button>
        </div>
    </form>
</div>
</body>
</html>
